<div class="modal-backdrop">
  <div class="modal-custom">
    <div class="modal-header">
      <h5>Selecionar Usuário</h5>
      <button type="button" class="btn-close" (click)="fechar()"></button>
    </div>
    <div class="modal-body">
      <div class="input-group mb-3">
        <span class="input-group-text"><i class="bi bi-search"></i></span>
        <input
          type="text"
          class="form-control"
          placeholder="Buscar por nome de usuário..."
          [(ngModel)]="termoBusca"
          (input)="buscarUsuarios()"
        />
      </div>
      <div
        class="list-group user-list"
        style="max-height: 300px; overflow-y: auto"
      >
        <a
          *ngFor="let u of usuariosDisponiveis"
          href="javascript:void(0)"
          class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          (click)="adicionarUsuario(u)"
        >
          {{ u.username }}
          <i class="bi bi-plus-circle-fill text-success"></i>
        </a>
        <div *ngIf="usuariosDisponiveis.length === 0" class="text-muted text-center p-3">
          Nenhum usuário encontrado.
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <div
        class="pagination-controls d-flex justify-content-between align-items-center w-100"
      >
        <button
          class="btn btn-secondary btn-sm"
          (click)="onPreviousPage()"
          [disabled]="currentPage === 0"
        >
          Anterior
        </button>
        <span class="text-muted"
          >Página {{ currentPage + 1 }} de {{ totalPages }}</span
        >
        <button
          class="btn btn-secondary btn-sm"
          (click)="onNextPage()"
          [disabled]="currentPage === totalPages - 1"
        >
          Próximo
        </button>
      </div>
      <button type="button" class="btn btn-secondary" (click)="fechar()">
        Cancelar
      </button>
    </div>
  </div>
</div>